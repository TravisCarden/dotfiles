---

- name: Upgrade outdated apps from the Mac App Store.
  shell: mas upgrade
  register: result
  changed_when: result.stdout.find('Everything is up-to-date') != 0

- name: Install Mac App Store apps.
  shell: mas list | grep {{ item }} || mas install {{ item }}
  with_items:
    - 937984704 # Amphetamine
    - 472790630 # Bible Study
    - 1024917449 # Cloud Outliner Pro
    - 975937182 # Fantastical 2 - Calendar and Reminders
    - 506189836 # Harvest
    - 489690915 # My Medical
    - 407963104 # Pixelmator
    - 425424353 # The Unarchiver
    - 410628904 # Wunderlist: To-Do List & Tasks
  register: result
  changed_when: result.stdout.find('Installed') != -1
