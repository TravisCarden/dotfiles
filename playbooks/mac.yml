---
- hosts: localhost
  connection: local
  tasks:

  - name: Tap Homebrew repositories.
    homebrew_tap: tap=homebrew/{{ item }} state=present
    with_items:
      - homebrew-php
      - versions

  - name: Install Homebrew packages.
    homebrew: name={{ item }} state=present
    with_items:
      - bash-completion
      - dos2unix
      - git
      - node4-lts
      - php56
      - the_silver_searcher
      - ruby
      - wget

  - name: Install Homebrew Casks.
    homebrew_cask: name={{ item }} state=present
    with_items:
      - 1password
      - adium
      - alfred
      - anybar
      - atom
      - bartender
      - calibre
      - dropbox
      - evernote
      - fantastical
      - firefox
      - flux
      - hipchat
      - hyperswitch
      - imageoptim
      - iterm2
      - keepassx
      - kindle
      - logitech-control-center
      - macpaw-gemini
      - phpstorm
      - sequel-pro
      - skype
      - slack
      - snagit
      - spectacle
      - toggldesktop
      - vagrant
      - virtualbox
      - viscosity
      - zoomus

  - name: Install Ruby gems.
    gem: name={{ item }} state=present user_install=no
    with_items:
      - bundler
      - homesick

  - name: Install Drush.
    git:
      repo=git@github.com:drush-ops/drush.git
      dest=~/Projects/drush
      update=no

  - name: Symlink Drush.
    file:
      src: ~/Projects/drush/drush
      path: /usr/local/bin/drush
      state: link
